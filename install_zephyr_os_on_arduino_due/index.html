<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Hello World on Arduino Due - AgriNode Project</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Hello World on Arduino Due";
    var mkdocs_page_input_path = "install_zephyr_os_on_arduino_due.md";
    var mkdocs_page_url = "/install_zephyr_os_on_arduino_due/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> AgriNode Project</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../system_architech/">System Architecture</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../orangepi/">Install Kura on Orange Pi</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Node RED</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../install_nodered_orangepi/">Install Node-RED on Orange Pi</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../nodered_tutorial/">Node Red tutorial</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../mqtt_demo/">MQTT demo</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../Bitreactive_tutorial/">Bitreactive tutorial</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>OpenHAB</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../openhab2_weather_demo/">OpenHAB2 yahoo weather binding</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../openhab2_mqtt/">OpenHAB2 MQTT binding</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Zephyr Project ( RTOS )</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Hello World on Arduino Due</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#running-hello_world-application-based-on-zephyr-rtos-on-arduino-due">Running Hello_world application ( based on Zephyr RTOS ) on Arduino Due</a></li>
                
                    <li><a class="toctree-l4" href="#requirement">Requirement</a></li>
                
                    <li><a class="toctree-l4" href="#1-setup-development-environment">1. Setup development environment</a></li>
                
                    <li><a class="toctree-l4" href="#2-download-zephyr-project">2. Download Zephyr project</a></li>
                
                    <li><a class="toctree-l4" href="#3-building-a-hello_world-application">3. Building a Hello_World Application</a></li>
                
                    <li><a class="toctree-l4" href="#4-flashing-the-zephyr-kernel-onto-arduino-due">4. Flashing the Zephyr kernel onto Arduino Due</a></li>
                
                    <li><a class="toctree-l4" href="#5-check-for-the-output">5. Check for the output</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Windows IoT Core</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../install_windows_iot_core/">Install Window 10 IoT Core on Raspberry Pi 2</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">AgriNode Project</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Zephyr Project ( RTOS ) &raquo;</li>
        
      
    
    <li>Hello World on Arduino Due</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="running-hello_world-application-based-on-zephyr-rtos-on-arduino-due">Running Hello_world application ( based on Zephyr RTOS ) on Arduino Due</h2>
<p>Zephyr Project goal is to build a best-in-breed small, scalable, real-time operation system (RTOS) for variety of IoT devices, such as X86 boards (Arduino 101, Galileo, Intel Quark D2000 development board,..), ARM boards (96Boards, Arduino Due, CC3200 LauchXL, Curie, NXP FRDM, ST Nucleo,...) ARC Boards, NIOS II Boards, XTENSA Boards.</p>
<p>In this post, we test a Hello_world application ( based on Zephyr RTOS ) on Arduino Due</p>
<h3 id="requirement">Requirement</h3>
<ul>
<li>Host Computer: Ubuntu 16.04 LTS 64-bit</li>
<li>Device: Arduino Due</li>
</ul>
<h3 id="1-setup-development-environment">1. Setup development environment</h3>
<ul>
<li>Update your OS</li>
</ul>
<pre><code>$ sudo apt-get update
$ sudo apt-get upgrade
</code></pre>

<ul>
<li>Install requirements</li>
</ul>
<pre><code>$ sudo apt-get install git make gcc g++ python3-ply ncurses-dev \
      python3-yaml python2.7 dfu-util 
</code></pre>

<ul>
<li>
<p>Install the Zephyr SDK</p>
</li>
<li>
<p>Download the latest SDK self-extractable binary.</p>
</li>
</ul>
<p><code>$ wget https://github.com/zephyrproject-rtos/meta-zephyr-sdk/releases/download/0.9.1/zephyr-sdk-0.9.1-setup.run</code></p>
<ul>
<li>Run the installation binary</li>
</ul>
<pre><code>$ chmod +x zephyr-sdk-0.9.1-setup.run
$ ./zephyr-sdk-0.9.1-setup.run
</code></pre>

<ul>
<li>To use the Zephyr SDK, export the following environment variables and use the target location where SDK was installed, type:</li>
</ul>
<pre><code>$ export ZEPHYR_GCC_VARIANT=zephyr
$ export ZEPHYR_SDK_INSTALL_DIR=/opt/zephyr-sdk/
</code></pre>

<h3 id="2-download-zephyr-project">2. Download Zephyr project</h3>
<p><code>$ git clone https://github.com/zephyrproject-rtos/zephyr.git</code></p>
<h3 id="3-building-a-hello_world-application">3. Building a Hello_World Application</h3>
<pre><code>$ export ZEPHYR_GCC_VARIANT=zephyr
$ export ZEPHYR_SDK_INSTALL_DIR=/opt/zephyr-sdk/
$ cd zephyr 
$ source zephyr-env.sh
$ cd samples/hello_world
$ make BOARD=arduino_due
</code></pre>

<p>After building an application successfully, the results can be found in the <code>samples/hello_world/outdir/arduino_due</code> directory</p>
<h3 id="4-flashing-the-zephyr-kernel-onto-arduino-due">4. Flashing the Zephyr kernel onto Arduino Due</h3>
<p>Flashing the Zephyr kernel onto Arduino Due requires the bossa tool.
Install BOSSA tool</p>
<p><code>$ sudo apt install bossa-cli</code></p>
<p>Make sure that you are in the directory <code>/samples/hello_world</code></p>
<p>Connect the Arduino Due to your host computer using the programming port.
Press the Erase button for more than 220 ms.
Press the Reset button so the board will boot into the SAM-BA bootloader.</p>
<p><code>$ bossac -p ttyACM0 -e -w -v -b outdir/arduino_due/zephyr.bin</code></p>
<h3 id="5-check-for-the-output">5. Check for the output</h3>
<p><code>$ minicom -D /dev/ttyACM0</code></p>
<p>Press the Reset button and you should see <code>“Hello World!”</code> in your terminal.</p>
<p><img alt="" src="https://3.bp.blogspot.com/-sdfpFOGi7tU/WS5cdeDYJWI/AAAAAAAAJvs/e_TMiaIYnY0yluF5D6J5oecopdAURbTngCLcB/s400/Screenshot%2Bfrom%2B2017-05-31%2B13-01-38.png" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../install_windows_iot_core/" class="btn btn-neutral float-right" title="Install Window 10 IoT Core on Raspberry Pi 2">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../openhab2_mqtt/" class="btn btn-neutral" title="OpenHAB2 MQTT binding"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../openhab2_mqtt/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../install_windows_iot_core/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
